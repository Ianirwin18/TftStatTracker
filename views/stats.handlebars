
<h1 class="header">Stats</h1>
<div class="container">
    <input type="submit" value="Load A New Match" id="btn" /><br><br>

<div id="matchHistory">
    <div class="historyContainer"></div>
    <hr>
    </div>

</div>
</div>
<div id="modal" class="modal">

    <!-- Modal content -->
    <form class="modal-content">
        <span class="close">&times;</span>
        <div class="title">
            Select Your Team Comp
        </div>
        <br>
            <div class="placement"><input type="checkbox">1</div>
            <div class="placement"><input type="checkbox">2</div>
            <div class="placement"><input type="checkbox">3</div>
            <div class="placement"><input type="checkbox">4</div>
            <div class="placement"><input type="checkbox">5</div>
            <div class="placement"><input type="checkbox">6</div>
            <div class="placement"><input type="checkbox">7</div>
            <div class="placement"><input type="checkbox">8</div>

        <div class="champ-container">
            {{#each champions}}
                        <label class="option_item">
                <input type="checkbox" class="checkbox">
                <div id="{{champion}}" class="option_inner grey">
                    <div class="tickmark"></div>
                    <div class="icon"><img src="/images/{{champion}}.png"></div>
                    <div class="name">{{champion}}</div>
                </div>
            </label>
            {{/each}}
        </div>
    </div>

<script>
    var modal = document.getElementById("modal");
console.log("model", modal)
let champions = []
        const getChampions = async () => {
            const res = await fetch("/api/champions");
            const data = await res.json();
            console.log("CHAMPIONS ", data)
        }
        getChampions()

        for (let i = 0; i < champions.length; i++) {
            document.getElementsByName("champion").addEventListener('click', function(e){
                let champ = e.target.id
                fetch(`/api/champions/${champ}`)
                .then(res => res.json())
                .then(data => console.log(data))
                .catch(err => console.log(err))

                fetch(`/api/saveChampion/${champ}`)

                // Every User has some champs
                // Need an api route to POST that a user selected a champ
                // That post API route will save the user and champ relationship
            })
        } 

    

    // Get the button that opens the modal
    var btn = document.getElementById("btn");

        // When the user clicks on the button, open the modal
        btn.onclick = function () {
            modal.style.display = "block";
        }
    </script>